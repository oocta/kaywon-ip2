<!doctype html>
<html lang="en" data-framework="jquery">
	<head>
		<meta charset="utf-8">
		<title>Interaction Programming</title>
		<link rel="stylesheet" href="./css/normalize.css">
		<link rel="stylesheet" href="./css/index.css">
	</head>
	<body>
		<section>
			<div id="imageSlider" class="imageSlider">
				<ul id="sliderContainer" class="sliderContainer">
					<!-- 슬라이더 아이템의 위치 -->
				</ul>
				<div id="controller" class="controller">
					<button id="leftButton" class="left">왼쪽으로</button>
					<button id="rightButton" class="right">오른쪽으로</button>
				</div>
				<div id="pagination" class="pagination">
					
				</div>
			</div>
		</section>

		<!-- Javascript -->
		<script type="text/javascript" src="./js/jquery.js"></script>
		<script type="text/javascript">
			//자바스크립트 코드 작성 영역
			//Step 2. 슬라이드를 움직이는 메인 함수 설정.
			var colorsArray = ['red', 'blue', 'green'];
      
      $(document).ready(function () {
        
        var $sliderContainer = $('#sliderContainer');
        var maxPage = colorsArray.length; //슬라이드 컨텐츠의 길이를 정의합니다.
        //css 를 통해 정의된 #sliderContainer의 width를 할당합니다. $sliderContainer를 참조하기 전에 반드시 먼저 할당이 되어 있어야 한다는 점 참고하세요!
        var contentWidth = $sliderContainer.width();
        // #1
        // 왼쪽, 오른쪽 버튼 제어시 사용하기 위한 현재페이지 값을 생성합니다.
        // 저는 배열의 인덱싱에 맞추기 위해 0 부터 시작하도록 설정하였습니다.
        var currentPage = 0;
        
        // li 노드 추가
        $.each(colorsArray, function (idx, val) {
          var $li = $('<li/>', {'style': 'background-color:' + val});
          $sliderContainer.append($li);
        });
        
        $sliderContainer.width(maxPage * contentWidth);
        
        // #2
        // $sliderContainer를 좌우로 움직이는 기능은 움직이는 정도인 값만 달라질 뿐 margin-left를 제어하는것은 동일합니다. 그러므로 매개변수로, 이동할 페이지와 넓이를 받을 수 있도록 함수를 작성합니다.
        function move(cPage, cWidth) {
          // 이동할 페이지는 cPage, 컨텐츠의 width는 cWidth 라는 이름으로 받기로 결정했습니다.
          $sliderContainer.animate({'margin-left': cPage * cWidth * -1 }, 1000);
        }
        
        // #3
        // 이제 move 함수가 작동하는지 테스트해봅니다.
        // 최초 시작시 currentPage(현재페이지)를 0으로 할당했으므로,
        // 다음 페이지로 넘어가려면 이동할페이지를 1로 설정하고, 미리 할당해두었던 contentWidth(#sliderContainer의 width)
        // 를 활용하여 테스트합니다. 정상적으로 파란색 페이지로 이동한다면 성공!
        move(1, contentWidth);
        
        // 이제 슬라이더를 움직일 수 있는 함수가 완성되었습니다.
        // 다음 스텝에서는 왼쪽과 오른쪽을 구현합니다.
        
      });
      
		</script>
	</body>
</html>
